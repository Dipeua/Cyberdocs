> Il utilise une connexion SSH pour créer un proxy tunnelisé qui agit comme une nouvelle interface. En bref, il simule un VPN, nous permettant d'acheminer notre trafic via le proxy sans utiliser de proxychains

Nous pouvons simplement nous connecter directement aux appareils du réseau cible comme nous le ferions normalement avec des appareils en réseau. 

- La commande de base pour se connecter à un serveur avec sshuttle est:

```sh
sshuttle -r username@address SUBNET
```

Par exemple, dans notre réseau fictif 172.16.0.x avec un serveur compromis à 172.16.0.5, la commande peut ressembler à ceci : `sshuttle -r user@172.16.0.5 172.16.0.0/24`
> Si cela a fonctionné, vous devriez voir la ligne suivante : `c : Connected to server.`

- Utilisation de l'authentification par clé:

```sh
sshuttle -r user@address --ssh-cmd "ssh -i KEYFILE" SUBNET
```

Vous pouvez rencontrer une erreur qui ressemble à ceci :

```md
client: Connected.  
client_loop: send disconnect: Broken pipe  
client: fatal: server died with error code 255
```

Cela peut se produire lorsque la machine compromise à laquelle vous vous connectez fait partie du sous-réseau auquel vous tentez d'accéder. 

Par exemple, si nous nous connections à 172.16.0.5 et essayions de transférer 172.16.0.0/24, nous inclurions le serveur compromis dans le sous-réseau nouvellement transféré, perturbant ainsi la connexion et provoquant la mort de l'outil.

Pour contourner ce problème, nous disons à sshuttle d'exclure le serveur compromis de la plage de sous-réseaux à l'aide du commutateur `-x`:

```sh
sshuttle -r user@172.16.0.5 172.16.0.0/24 -x 172.16.0.5
```

