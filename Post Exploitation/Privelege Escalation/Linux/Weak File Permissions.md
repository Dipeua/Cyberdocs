# Weak File Permissions

Verifier si les fichiers `/etc/shadow` ou `/etc/passwd` sont accessible en écriture partout : 
`-rw-r--rw-` si c'est le cas proceder comme suite:

## /etc/shadow

Ce fichier contient les hachages de mot de passe utilisateur et n'est généralement lisible que par l'utilisateur root.

**Exploitation:**

- Générez un nouveau hachage de mot de passe

```sh
mkpasswd -m sha-512 <NEW_PASSWORD>
```

- Modifiez le fichier `/etc/shadow` et remplacez le hachage du mot de passe de l'utilisateur root d'origine par celui que vous venez de générer.

- Basculez vers l'utilisateur root en utilisant le nouveau mot de passe

## /etc/passwd

Le fichier `/etc/passwd` contient des informations sur les comptes d'utilisateurs. Il est lisible par tout le monde, mais généralement uniquement accessible en écriture par l'utilisateur root

**Exploitation:**

Ajouter un nouvel utilisateur disposant des privilèges root.

- Nous ajouterons ensuite ce mot de passe avec un nom d'utilisateur au `/etc/passwd`
- basculer vers cet utilisateur nouvellement creer

```sh
openssl passwd PASSWORD
```

```sh
openssl passwd -1 -salt SALT PASSWORD
```

Modele:

```
<NEW_USERNAME>:<NEW_PASSWORD>:0:0:root:/root:/bin/bash
```