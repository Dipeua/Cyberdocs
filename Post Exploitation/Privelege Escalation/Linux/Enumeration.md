# Enumeration

Il n’existe pas de solution miracle tout dépend de la configuration spécifique du système cible. La version du noyau, les applications installées, les langages de programmation pris en charge, les mots de passe des autres utilisateurs sont quelques éléments clés qui affecteront votre chemin vers le shell racine.

[GTFOBin](https://gtfobins.github.io/)

## Commandes

Afficher le nom d'hôte de la machine cible
Elle peut fournir des informations sur le rôle du système cible au sein du réseau d'entreprise (par exemple SQL -PROD-01 pour un serveur SQL de production)

```sh
hostname
```

Affiche les processus pour tous les utilisateurs

```sh
ps aux
```

Affiche les variables environnementales

```sh
env
```

Fournira un aperçu général du niveau de privilège de l'utilisateur et des appartenances aux groupes.

```sh
id
```

Affiche les utilisateurs sur le système 

```sh
cat /etc/passwd | grep home | cut -d ":" -f 1
```

Donne une idée du système cible et, bien que rarement, avoir stocké des informations telles que des mots de passe ou des noms d'utilisateur.

```sh
history
cat ~/.*history | less
```

Donnera des informations sur les interfaces réseau du système

```sh
ifconfig
ip route
```

Après une première vérification des interfaces et des routes réseau existantes, il convient d'examiner les communications existantes

```sh
netstat -ano -antp
```

Liste des fichiers ouverts. montre les services d'écoute IPv4 et IPv6 et les connexions en cours

> Les fichiers de configuration contiennent souvent des mots de passe en texte brut ou dans d'autres formats réversibles 

```sh
lsof -i
lsof -iPORT
```

Information sur l'architecture systeme

```sh
lscpu
```

## La command find

Trouver les fichiers exécutables

```sh
find / -perm a=x
```

Trouver tous les fichiers pour l'utilisateur "frank" sous "/home"

```sh
find /home -user frank
```

Trouver les fichiers qui ont été modifiés au cours des 10 derniers jours

```sh
find / -mtime 10
```

Rechercher les fichiers consultés au cours des 10 derniers jours

```sh
find / -atime 10
```

Trouver les fichiers modifiés au cours de la dernière heure (60 minutes)

```sh
find / -cmin -60
```

Trouver les accès aux fichiers au cours de la dernière heure (60 minutes)

```sh
find / -amin -60
```

Trouver des fichiers d'une taille de 50 Mo

```sh
find / -size 50M
```

Rechercher des dossiers accessibles en écriture par tout le monde

```sh
find / -perm -o w -type d 2>/dev/null
find / -perm -222 -type d 2>/dev/null
find / -writable -type d 2>/dev/null
```

Rechercher des dossiers exécutables par tout le monde

```sh
find / -perm -o x -type d 2>/dev/null
```

Trouvez des outils de développement et des langages pris en charge

```sh
find / -name perl*
find / -name python*
find / -name gcc
```

## Autres

Afficher tout les applications installer et leurs versions

```sh
dpkg -l
rpm -qa
```

Montrer qui est connecté 

```sh
who
```

 Montre qui est connecté et ce qu'il fait.

```sh
w
```

affiche une liste des derniers utilisateurs connectés

```sh
last
```

Fichiers

```sh
ls -lh /var/mail/
ls -lh /usr/bin/
ls -lh /sbin/
```

```sh
grep -Hs iptables /etc/* 
```

Enumerating device Drivers and Kernel Modules

```sh
axd -r 
```

Enumeration Service running as root

```sh
ps aux | grep "^root"
```

Enumeration Program versions

```sh
<program> --verson
<program> -v
```

```sh
dpkg -l | grep <program>
rpm -qa | grep <program>
```
