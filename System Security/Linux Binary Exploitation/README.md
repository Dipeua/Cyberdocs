# Linux Binary Exploitation

L'un des aspects les plus importants d'un débordement de tampon basé sur la pile est de contrôler le `instruction pointer`( `EIP`) afin que nous puissions lui dire à quelle adresse il doit sauter. 

Désactiver la protection mémoire

```sh
sudo echo 0 > /proc/sys/kernel/randomize_va_space
```

Program

```c
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

void func(char *arg)
{
    char buffer[50];
    strcpy(buffer,arg);
    printf("Bienvenue %s !\n", buffer);
}

int main(int argc, char *argv[])
{
    if(argc != 2) printf("Welcome <votre prenom> \n");
    else func(argv[1]);
    return 0;
}
```

## Stack Buffer Overflows Techniques

- [Shell Code](./Stack/Shell%20Code.md)
- [Ret2Libc](./Stack/Ret2Libc.md)
- [Reverse Shell](./Stack/Reverse%20Shell.md)



Compiler le programme

```sh
gcc -z execstack -fno-stack-protector -m32 prog.c -o prog

file prog | tr "," "\n"
```


Verifier si la stack est executable

```sh
readelf -l prog
#   GNU_STACK      0x000000 0x00000000 0x00000000 0x00000 0x00000 RWE 0x4
```

Les fonctions C vulnérables:

```c
strcpy
gets
sprintf
scanf
strcat
...
```

